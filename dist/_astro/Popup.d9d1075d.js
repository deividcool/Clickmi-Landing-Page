import{T as O,w as T}from"./runtime-dom.esm-bundler.83a7702c.js";import{t as k}from"./translate.44434bcc.js";import{a as i}from"./store.ac37cfed.js";import{d as _}from"./index.1dca32fc.js";import{d as S,e as x}from"./bodyScrollLock.esm.9ceb8365.js";/* empty css                        */import{l as C}from"./index.a61567a3.js";import Z from"./Newsletter.2d830dcd.js";import{_ as F}from"./_plugin-vue_export-helper.c27b6911.js";import{u as B}from"./index.1a895777.js";import{a as P}from"./index.d9178191.js";import{f as N,o as z,w as g,a as d,c as u,b as s,l as V,h as I,F as D,n as M,d as f,t as E,e as y,u as q}from"./runtime-core.esm-bundler.10e5df62.js";import"./Loading.617f30db.js";const A={__name:"Popup",props:{data:{type:Object},link:{type:String,default:"popup"},code:{type:String},className:{type:String,default:""},newsletter:{type:Object}},setup(l,{expose:t}){t();const{isSupported:r,copy:e}=_(),o=l,p=B(i),{counter:n,pause:c,resume:m,reset:w}=P(100,{controls:!0});c();const v=N(()=>100-(o.data.duration-n.value/10)/o.data.duration*100),j=()=>{e(o.code),C.success(k("promocode_copied"))},H=a=>{o.data.duration!==0&&(a?c():m())},h=()=>{i.set({type:p.value.type,show:!1})};z(()=>{o.data.delay===0&&(i.set({type:o.link,show:!0}),m()),o.data.delay>0&&setTimeout(()=>{i.set({type:o.link,show:!0}),m()},o.data.delay*1e3)}),g(p,a=>{a.show&&a.type===o.link?(w(),S(document.body)):!a.show&&a.type===o.link&&x(document.body)},{immediate:!1}),g(v,a=>{o.data.duration>0&&a>100&&(c(),h())},{immediate:!1});const b={isSupported:r,copy:e,props:o,$show:p,counter:n,pause:c,resume:m,reset:w,progress:v,doCopy:j,pauseProgress:H,hide:h,onMounted:z,watch:g,computed:N,get t(){return k},get useStore(){return B},get showPopup(){return i},get useInterval(){return P},get useClipboard(){return _},get disableBodyScroll(){return S},get enableBodyScroll(){return x},get toast(){return C},Newsletter:Z};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}},G=["data-popup"],J={slot:"content",class:"relative text-center"},K=["value"],L={key:0,class:"surface-secondary h-full rounded-r-lg px-4 py-3 text-xl shadow-lg"},Q=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5",viewBox:"0 0 256 256"},[s("path",{fill:"currentColor",d:"M184 64H40a8 8 0 0 0-8 8v144a8 8 0 0 0 8 8h144a8 8 0 0 0 8-8V72a8 8 0 0 0-8-8Zm-8 144H48V80h128Zm48-168v144a8 8 0 0 1-16 0V48H72a8 8 0 0 1 0-16h144a8 8 0 0 1 8 8Z"})],-1),R=[Q],U={key:1,class:"surface-base relative z-10 m-4 rounded p-4"};function W(l,t,r,e,o,p){return d(),u(D,null,[s("div",{class:"hide","data-popup":r.link},null,8,G),V(O,{name:"fade"},{default:I(()=>[e.$show.show&&e.$show.type===e.props.link?(d(),u("div",{key:0,class:"bg-dark-blur popup pointer-events-auto fixed inset-0 grid w-full cursor-pointer place-items-center",onClick:t[5]||(t[5]=n=>e.hide())},[s("div",{onClick:t[2]||(t[2]=T(()=>{},["stop"])),class:"container-sm relative",onMouseenter:t[3]||(t[3]=n=>e.pauseProgress(!0)),onMouseleave:t[4]||(t[4]=n=>e.pauseProgress(!1))},[s("div",{class:M(["popup__content hide-scrollbar cursor-auto overflow-hidden rounded shadow-xl",r.className])},[s("div",J,[f(l.$slots,"content"),r.code?(d(),u("div",{key:0,class:M(["relative z-10 grid place-items-center",e.isSupported?"cursor-pointer":""])},[s("div",{onClick:t[0]||(t[0]=n=>e.doCopy()),class:"flex items-center"},[s("div",{disabled:"",class:"surface-base rounded-l-lg px-4 py-2 font-mono text-xl shadow-lg",value:r.code},E(r.code),9,K),e.isSupported?(d(),u("div",L,R)):y("",!0)])],2)):y("",!0),r.newsletter?(d(),u("div",U,[V(e.Newsletter,{data:r.newsletter},null,8,["data"])])):y("",!0),f(l.$slots,"buttons"),s("div",{class:"progress absolute inset-x-0 top-0 z-20",style:q(`--progress: ${e.progress}%`)},null,4),f(l.$slots,"image")])],2),s("button",{class:"btn btn-icon surface-dark btn-absolute -right-1 -top-1 z-50 grid h-10 w-10 place-items-center",onClick:t[1]||(t[1]=n=>e.hide())},[f(l.$slots,"close")])],32)])):y("",!0)]),_:3})],64)}const ue=F(A,[["render",W]]);export{ue as default};
