let l=[],i=(a,h)=>{let n=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},l:h||0,lc:0,listen(s,u){return t.lc=n.push(s,u||t.l)/2,()=>{let e=n.indexOf(s);~e&&(n.splice(e,2),--t.lc||t.off())}},notify(s){let u=!l.length;for(let e=0;e<n.length;e+=2)l.push(n[e],n[e+1],t.value,s);if(u){for(let e=0;e<l.length;e+=4){let o;for(let f=e+1;!o&&(f+=4)<l.length;)l[f]<l[e+1]&&(o=l.push(l[e],l[e+1],l[e+2],l[e+3]));o||l[e](l[e+2],l[e+3])}l.length=0}},off(){},set(s){t.value!==s&&(t.value=s,t.notify())},subscribe(s,u){let e=t.listen(s,u);return s(t.value),e},value:a};return t};const r=i({id:null,show:!1}),c=i({type:null,show:!1}),p=i({type:null,link:null,show:!1}),g=i(null);export{c as a,r as b,g as c,p as s};
