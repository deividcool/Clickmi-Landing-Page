import{b as H,t as D,c as V,i as z,n as T,d as Y,e as y,f as P,g as C,h as F,j as E}from"./index.d9178191.js";import{f as O,r as v,w,v as $,x as j,y as q,o as B}from"./runtime-core.esm-bundler.10e5df62.js";function b(e){var t;const n=y(e);return(t=n?.$el)!=null?t:n}const S=z?window:void 0,R=z?window.navigator:void 0;function A(...e){let t,n,s,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,r]=e,t=S):[t,n,s,r]=e,!t)return T;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const i=[],a=()=>{i.forEach(l=>l()),i.length=0},o=(l,d,p,h)=>(l.addEventListener(d,p,h),()=>l.removeEventListener(d,p,h)),u=w(()=>[b(t),y(r)],([l,d])=>{if(a(),!l)return;const p=Y(d)?{...d}:d;i.push(...n.flatMap(h=>s.map(m=>o(l,h,m,p))))},{immediate:!0,flush:"post"}),c=()=>{u(),a()};return E(c),c}function Q(){const e=v(!1);return q()&&B(()=>{e.value=!0}),e}function I(e){const t=Q();return O(()=>(t.value,!!e()))}function X(e,t={}){const{window:n=S}=t,s=I(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const i=v(!1),a=c=>{i.value=c.matches},o=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a))},u=$(()=>{s.value&&(o(),r=n.matchMedia(y(e)),"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),i.value=r.matches)});return E(()=>{u(),o(),r=void 0}),i}function N(e,t={}){const{controls:n=!1,navigator:s=R}=t,r=I(()=>s&&"permissions"in s);let i;const a=typeof e=="string"?{name:e}:e,o=v(),u=()=>{i&&(o.value=i.state)},c=F(async()=>{if(r.value){if(!i)try{i=await s.permissions.query(a),A(i,"change",u),u()}catch{o.value="prompt"}return i}});return c(),n?{state:o,isSupported:r,query:c}:o}function ee(e={}){const{navigator:t=R,read:n=!1,source:s,copiedDuring:r=1500,legacy:i=!1}=e,a=I(()=>t&&"clipboard"in t),o=N("clipboard-read"),u=N("clipboard-write"),c=O(()=>a.value||i),l=v(""),d=v(!1),p=H(()=>d.value=!1,r);function h(){a.value&&o.value!=="denied"?t.clipboard.readText().then(f=>{l.value=f}):l.value=x()}c.value&&n&&A(["copy","cut"],h);async function m(f=y(s)){c.value&&f!=null&&(a.value&&u.value!=="denied"?await t.clipboard.writeText(f):M(f),l.value=f,d.value=!0,p.start())}function M(f){const g=document.createElement("textarea");g.value=f??"",g.style.position="absolute",g.style.opacity="0",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}function x(){var f,g,_;return(_=(g=(f=document?.getSelection)==null?void 0:f.call(document))==null?void 0:g.toString())!=null?_:""}return{isSupported:c,text:l,copied:d,copy:m}}function G(e,t,n={}){const{window:s=S,...r}=n;let i;const a=I(()=>s&&"ResizeObserver"in s),o=()=>{i&&(i.disconnect(),i=void 0)},u=O(()=>Array.isArray(e)?e.map(d=>b(d)):[b(e)]),c=w(u,d=>{if(o(),a.value&&s){i=new ResizeObserver(t);for(const p of d)p&&i.observe(p,r)}},{immediate:!0,flush:"post",deep:!0}),l=()=>{o(),c()};return E(l),{isSupported:a,stop:l}}function J(e,t,n={}){const{root:s,rootMargin:r="0px",threshold:i=.1,window:a=S,immediate:o=!0}=n,u=I(()=>a&&"IntersectionObserver"in a),c=O(()=>{const m=y(e);return(Array.isArray(m)?m:[m]).map(b).filter(P)});let l=T;const d=v(o),p=u.value?w(()=>[c.value,b(s),d.value],([m,M])=>{if(l(),!d.value||!m.length)return;const x=new IntersectionObserver(t,{root:b(M),rootMargin:r,threshold:i});m.forEach(f=>f&&x.observe(f)),l=()=>{x.disconnect(),l=T}},{immediate:o,flush:"post"}):T,h=()=>{l(),p(),d.value=!1};return E(h),{isSupported:u,isActive:d,pause(){l(),d.value=!1},resume(){d.value=!0},stop:h}}function te(e,t={}){const{window:n=S,scrollTarget:s}=t,r=v(!1);return J(e,([{isIntersecting:i}])=>{r.value=i},{root:s,window:n,threshold:0}),r}function L(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function k(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:k(n)}}function K(e){const t=e||window.event,n=t.target;return k(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const W=new WeakMap;function ne(e,t=!1){const n=v(t);let s=null,r;w(D(e),o=>{const u=L(y(o));if(u){const c=u;W.get(c)||W.set(c,r),n.value&&(c.style.overflow="hidden")}},{immediate:!0});const i=()=>{const o=L(y(e));!o||n.value||(C&&(s=A(o,"touchmove",u=>{K(u)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},a=()=>{var o;const u=L(y(e));!u||!n.value||(C&&s?.(),u.style.overflow=(o=W.get(u))!=null?o:"",W.delete(u),n.value=!1)};return E(a),O({get(){return n.value},set(o){o?i():a()}})}function re(e){const t=v(e?.element),n=v(e?.input),s=v(1);function r(){var i,a;if(!t.value)return;let o="";t.value.style.height="1px",s.value=(i=t.value)==null?void 0:i.scrollHeight,e?.styleTarget?y(e.styleTarget).style.height=`${s.value}px`:o=`${s.value}px`,t.value.style.height=o,(a=e?.onResize)==null||a.call(e)}return w([n,t],()=>j(r),{immediate:!0}),G(t,()=>r()),e?.watch&&w(e.watch,r,{immediate:!0,deep:!0}),{textarea:t,input:n,triggerResize:r}}function oe(e={}){const{window:t=S,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:s=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:i=!0}=e,a=v(n),o=v(s),u=()=>{t&&(i?(a.value=t.innerWidth,o.value=t.innerHeight):(a.value=t.document.documentElement.clientWidth,o.value=t.document.documentElement.clientHeight))};if(u(),V(u),A("resize",u,{passive:!0}),r){const c=X("(orientation: portrait)");w(c,()=>u())}return{width:a,height:o}}export{re as a,te as b,ne as c,ee as d,oe as u};
