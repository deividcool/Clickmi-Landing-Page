{
  "version": 3,
  "sources": ["../../@nanostores/vue/use-store/index.js", "../../@nanostores/vue/map-stores/index.js", "../../@nanostores/vue/use-v-model/index.js"],
  "sourcesContent": ["import {\n  getCurrentInstance,\n  getCurrentScope,\n  onScopeDispose,\n  readonly,\n  shallowRef\n} from 'vue'\n\nexport function registerStore(store) {\n  let instance = getCurrentInstance()\n  if (instance && instance.proxy) {\n    let vm = instance.proxy\n    let cache = '_nanostores' in vm ? vm._nanostores : (vm._nanostores = [])\n    cache.push(store)\n  }\n}\n\nexport function useStore(store) {\n  let state = shallowRef()\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof store === 'function') {\n      throw new Error(\n        'Use useStore(Template(id)) or useSync() ' +\n          'from @logux/client/vue for templates'\n      )\n    }\n  }\n\n  let unsubscribe = store.subscribe(value => {\n    state.value = value\n  })\n\n  getCurrentScope() && onScopeDispose(unsubscribe)\n\n  if (process.env.NODE_ENV !== 'production') {\n    registerStore(store)\n    return readonly(state)\n  }\n  return state\n}\n", "import { useStore } from '../use-store/index.js'\n\nexport function mapStores(stores) {\n  return Object.entries(stores).reduce((reduced, [storeName, store]) => {\n    reduced[storeName] = useStore(store)\n    return reduced\n  }, {})\n}\n", "import { computed } from 'vue'\n\nimport { useStore } from '../use-store/index.js'\n\nexport function useVModel(store, keys, opts = {}) {\n  let prefix = opts.prefix || 'Model'\n  let state = useStore(store)\n  if (Array.isArray(keys)) {\n    return keys.reduce((reduced, key) => {\n      reduced[`${key}${prefix}`] = computed({\n        get: () => state.value[key],\n        set: value => {\n          store.setKey(key, value)\n        }\n      })\n      return reduced\n    }, {})\n  } else {\n    let key = keys\n    return computed({\n      get: () => (key ? state.value[key] : state.value),\n      set: value => {\n        key ? store.setKey(key, value) : store.set(value)\n      }\n    })\n  }\n}\n"],
  "mappings": ";;;;;;;;;;AAQO,SAAS,cAAc,OAAO;AACnC,MAAI,WAAW,mBAAmB;AAClC,MAAI,YAAY,SAAS,OAAO;AAC9B,QAAI,KAAK,SAAS;AAClB,QAAI,QAAQ,iBAAiB,KAAK,GAAG,cAAe,GAAG,cAAc,CAAC;AACtE,UAAM,KAAK,KAAK;AAAA,EAClB;AACF;AAEO,SAAS,SAAS,OAAO;AAC9B,MAAI,QAAQ,WAAW;AAEvB,MAAI,MAAuC;AACzC,QAAI,OAAO,UAAU,YAAY;AAC/B,YAAM,IAAI;AAAA,QACR;AAAA,MAEF;AAAA,IACF;AAAA,EACF;AAEA,MAAI,cAAc,MAAM,UAAU,WAAS;AACzC,UAAM,QAAQ;AAAA,EAChB,CAAC;AAED,kBAAgB,KAAK,eAAe,WAAW;AAE/C,MAAI,MAAuC;AACzC,kBAAc,KAAK;AACnB,WAAO,SAAS,KAAK;AAAA,EACvB;AACA,SAAO;AACT;;;ACtCO,SAAS,UAAU,QAAQ;AAChC,SAAO,OAAO,QAAQ,MAAM,EAAE,OAAO,CAAC,SAAS,CAAC,WAAW,KAAK,MAAM;AACpE,YAAQ,SAAS,IAAI,SAAS,KAAK;AACnC,WAAO;AAAA,EACT,GAAG,CAAC,CAAC;AACP;;;ACHO,SAAS,UAAU,OAAO,MAAM,OAAO,CAAC,GAAG;AAChD,MAAI,SAAS,KAAK,UAAU;AAC5B,MAAI,QAAQ,SAAS,KAAK;AAC1B,MAAI,MAAM,QAAQ,IAAI,GAAG;AACvB,WAAO,KAAK,OAAO,CAAC,SAAS,QAAQ;AACnC,cAAQ,GAAG,GAAG,GAAG,MAAM,EAAE,IAAI,SAAS;AAAA,QACpC,KAAK,MAAM,MAAM,MAAM,GAAG;AAAA,QAC1B,KAAK,WAAS;AACZ,gBAAM,OAAO,KAAK,KAAK;AAAA,QACzB;AAAA,MACF,CAAC;AACD,aAAO;AAAA,IACT,GAAG,CAAC,CAAC;AAAA,EACP,OAAO;AACL,QAAI,MAAM;AACV,WAAO,SAAS;AAAA,MACd,KAAK,MAAO,MAAM,MAAM,MAAM,GAAG,IAAI,MAAM;AAAA,MAC3C,KAAK,WAAS;AACZ,cAAM,MAAM,OAAO,KAAK,KAAK,IAAI,MAAM,IAAI,KAAK;AAAA,MAClD;AAAA,IACF,CAAC;AAAA,EACH;AACF;",
  "names": []
}
